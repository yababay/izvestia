{"version":3,"file":"_page.svelte-BfpsQg_z.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(bare)/edit/_year_/_issue_/_page_/_page.svelte.js"],"sourcesContent":["import { j as slot, l as bind_props, f as pop, p as push, k as head } from \"../../../../../../../chunks/index2.js\";\nimport { A as Alert } from \"../../../../../../../chunks/Alert.js\";\n/* empty css                                                             */\nimport { e as escape_html } from \"../../../../../../../chunks/escaping.js\";\nimport { T as Textarea, S as Submit } from \"../../../../../../../chunks/Textarea.js\";\nimport { a as attr } from \"../../../../../../../chunks/attributes.js\";\nfunction Fieldset($$payload, $$props) {\n  let legend = $$props[\"legend\"];\n  $$payload.out += `<fieldset class=\"svelte-1fan63e\"><legend class=\"svelte-1fan63e\">${escape_html(legend)}</legend> <section class=\"d-flex flex-column justify-content-between align-items-center m-0 w-100 h-100\"><!---->`;\n  slot($$payload, $$props, \"default\", {}, null);\n  $$payload.out += `<!----></section></fieldset>`;\n  bind_props($$props, { legend });\n}\nfunction Form($$payload, $$props) {\n  let legend = $$props[\"legend\"];\n  Fieldset($$payload, {\n    legend,\n    children: ($$payload2) => {\n      $$payload2.out += `<form method=\"post\" class=\"w-100 svelte-4o9ra5\"><!---->`;\n      slot($$payload2, $$props, \"default\", {}, null);\n      $$payload2.out += `<!----></form>`;\n    },\n    $$slots: { default: true }\n  });\n  bind_props($$props, { legend });\n}\nconst oldToModern = (old) => old.replace(/ѣ/gi, \"е\").replace(/ѳ/gi, \"ф\").replace(/[іѵ]/gi, \"и\").replace(/аго[\\s\\.\\,\\!\\?\\;\\:\\-\\)\\\"\\»]/gi, \"ого \").replace(/яся[\\s\\.\\,\\!\\?\\;\\:\\-\\)\\\"\\»]/gi, \"еся \").replace(/ния[\\s\\.\\,\\!\\?\\;\\:\\-\\)\\\"\\»]/gi, \"ние \").replace(/щия[\\s\\.\\,\\!\\?\\;\\:\\-\\)\\\"\\»]/gi, \"щие \").replace(/кия[\\s\\.\\,\\!\\?\\;\\:\\-\\)\\\"\\»]/gi, \"кие \").replace(/\\sмiр/gi, \" мир\").replace(/ъ[\\s\\.\\,\\!\\?\\;\\:\\-\\)\\\"\\»]/gi, \" \").replace(/ыя\\s/gi, \"ые \").replace(/iя\\s/gi, \"ие \").replace(/\\sея\\s/gi, \" её \").replace(/\\sоне\\s/gi, \" они \").replace(/\\sразс/gi, \" расс\").replace(/\\sбезс/gi, \" бесс\").replace(/\\n/g, \"\\n\\n\");\nfunction Editor($$payload, $$props) {\n  push();\n  let data = $$props[\"data\"];\n  const { content, page, issue, date, id } = data;\n  const legend = `№${issue} за ${date} г., стр. ${page}`;\n  const href = `https://yandex.ru/archive/catalog/${id}/${page}`;\n  const header = `###### ИЗВЕСТИЯ ПЕТРОГРАДСКОГО СОВЕТА <br> Рабочих депутатов\n\n_№${issue}. ${date} года. Стр. ${page}_\n\n<hr>\n\n`;\n  if (content) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<div class=\"wrap svelte-hd6rtq\">`;\n    Form($$payload, {\n      legend,\n      children: ($$payload2) => {\n        Textarea($$payload2, {\n          name: \"body\",\n          value: content.body || header + oldToModern(content.raw),\n          rows: 35\n        });\n        $$payload2.out += `<!----> <input type=\"hidden\" name=\"date\"${attr(\"value\", date)}> `;\n        Submit($$payload2, {\n          $$slots: {\n            options: ($$payload3) => {\n              $$payload3.out += `<span slot=\"options\"><a class=\"btn btn-primary\"${attr(\"href\", href)} role=\"button\" target=\"_blank\">На Яндексе</a></span>`;\n            }\n          }\n        });\n        $$payload2.out += `<!---->`;\n      },\n      $$slots: { default: true }\n    });\n    $$payload.out += `<!----></div>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n    Alert($$payload, {\n      look: \"danger\",\n      children: ($$payload2) => {\n        $$payload2.out += `<!---->Контент не найден`;\n      },\n      $$slots: { default: true }\n    });\n  }\n  $$payload.out += `<!--]-->`;\n  bind_props($$props, { data });\n  pop();\n}\nfunction _page($$payload, $$props) {\n  let data = $$props[\"data\"];\n  const { page, issue, date, id } = data;\n  const description = `«Известия…», №${issue} за ${date} г. C. ${page}.`;\n  const origin = `https://yandex.ru/archive/catalog/${id}/${page}`;\n  head($$payload, ($$payload2) => {\n    $$payload2.out += `<meta name=\"description\"${attr(\"content\", description)}> <meta name=\"origin\"${attr(\"content\", origin)}> <script src=\"/publish.js\" defer><\\/script>`;\n  });\n  Editor($$payload, { data });\n  bind_props($$props, { data });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}