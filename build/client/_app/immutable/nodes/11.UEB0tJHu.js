import{d as V,f as ea,b as x,a as h,c as ra,e as ia}from"../chunks/C-V7koEK.js";import"../chunks/CNXGhc8a.js";import{b as sa,h as W,d as X,p as na,l as Z,J as la,ad as oa,ac as da,s as va,g as ca,D as fa,a3 as Y,a4 as z,c as d,r as v,t as F,aA as ma,aB as pa,e as b,al as ua,f as j,a5 as g,i as ba,n as ha}from"../chunks/CuqPCOm1.js";import{h as _a}from"../chunks/Bk6oNkak.js";import{i as T}from"../chunks/CNUPf0XL.js";import{s as D,b as N,a as U}from"../chunks/DIJY445-.js";import{i as G}from"../chunks/iM5OWHQR.js";import{p as f}from"../chunks/BO3cye2v.js";import{s as ga}from"../chunks/B0AT_9hh.js";import{e as xa,i as ya}from"../chunks/L2j9VugY.js";import{s as wa}from"../chunks/BfnAL8MM.js";import{s as ka}from"../chunks/CDm-fcRQ.js";import{t as La}from"../chunks/DixeOKT8.js";import{T as Ra,S as Aa}from"../chunks/Bi1xZXSP.js";function Ca(_,a,o,p,n){var s=_,i="",t;sa(()=>{if(i===(i=a()??"")){W&&X();return}t!==void 0&&(fa(t),t=void 0),i!==""&&(t=na(()=>{if(W){Z.data;for(var e=X(),r=e;e!==null&&(e.nodeType!==8||e.data!=="");)r=e,e=la(e);if(e===null)throw oa(),da;V(Z,r),s=va(e);return}var u=i+"",l=ea(u);V(ca(l),l.lastChild),s.before(l)}))})}var Da=x('<article class="svelte-717uf7"><!></article>');function Ha(_,a){Y(a,!1);let o=f(a,"readme",8);const n=new ga.Converter().makeHtml(o());G();var s=Da(),i=d(s);Ca(i,()=>n),v(s),h(_,s),z()}var Ta=x('<li class="page-item"><a rel="external" class="page-link"> </a></li>');function Ba(_,a){let o=f(a,"prefix",8,""),p=f(a,"postfix",8,""),n=f(a,"num",8),s=f(a,"active",8,!1);var i=Ta(),t=d(i),e=d(t,!0);v(t),v(i),F(()=>{D(t,"href",`${o()}/${n()}${p()}`),D(t,"aria-label",""+n()),La(t,"active",s()),ka(e,n())}),h(_,i)}var Pa=x('<span aria-hidden="true">&boxvr;&boxh;</span>'),Sa=x('<span aria-hidden="true">&boxh;&boxvl;</span>'),ja=x('<li class="page-item"><a rel="external" class="page-link"><!></a></li>');function $(_,a){let o=f(a,"num",8),p=f(a,"prefix",8),n=f(a,"postfix",8);const s=o()===1?"В начало":`В конец (${o()})`;var i=ja(),t=d(i);D(t,"title",s);var e=d(t);{var r=l=>{var y=Pa();h(l,y)},u=l=>{var y=Sa();h(l,y)};T(e,l=>{o()===1?l(r):l(u,!1)})}v(t),v(i),F(()=>{D(t,"href",`${p()}/${o()}${n()}`),D(t,"aria-label",""+o())}),h(_,i)}var Ia=x('<nav aria-label="pagination" class="w-100 d-flex align-items-center justify-content-end gap-3 me-5"><ul class="pagination"><!> <!> <!></ul> <!></nav>'),Oa=x("<p>&nbsp;</p>");function qa(_,a){Y(a,!1);const o=10,p=o*2+1;let n=f(a,"count",8),s=f(a,"current",8,1),i=f(a,"prefix",8,""),t=f(a,"postfix",8,"");const e=n()<=p;let r=ma(new Array(e?n():p)),u=s()-o;for(;u<1;)u++;for(let c=0;c<p;c++)pa(r,b(r)[c]=c+u);for(;b(r)[b(r).length-1]>n();)b(r).pop();for(;b(r).length<p;){const c=b(r)[0]-1;if(c===0)break;ua(r,[c,...b(r)])}let l=!e&&b(r)[0]!==1,y=!e&&b(r)[b(r).length-1]!==n();G();var L=ra(),R=j(L);{var A=c=>{var C=Ia(),H=d(C),P=d(H);{var I=m=>{$(m,{num:1,get prefix(){return i()},get postfix(){return t()}})};T(P,m=>{l&&m(I)})}var O=g(P,2);xa(O,1,()=>b(r),ya,(m,S)=>{const E=ba(()=>+b(S)==+s());Ba(m,{get num(){return b(S)},get active(){return b(E)},get prefix(){return i()},get postfix(){return t()}})});var q=g(O,2);{var w=m=>{$(m,{get num(){return n()},get prefix(){return i()},get postfix(){return t()}})};T(q,m=>{y&&m(w)})}v(H);var k=g(H,2);wa(k,a,"default",{},null),v(C),h(c,C)},B=c=>{var C=Oa();h(c,C)};T(R,c=>{n()>1?c(A):c(B,!1)})}h(_,L),z()}var Ea=x('<button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#publisher">Публикация</button> <div class="modal fade" id="publisher" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><form method="post"><div class="modal-header"><h1 class="modal-title fs-5" id="staticBackdropLabel">Подготовка к публикации</h1> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div> <div class="modal-body"><input type="hidden" name="date"> <input type="hidden" name="href"> <input type="hidden" name="description"> <!></div> <div class="modal-footer"><!></div></form></div></div></div>',1);function Ja(_,a){let o=f(a,"date",8),p=f(a,"href",8),n=f(a,"description",8);var s=Ea(),i=g(j(s),2),t=d(i),e=d(t),r=d(e),u=g(d(r),2),l=d(u);N(l);var y=g(l,2);N(y);var L=g(y,2);N(L);var R=g(L,2);Ra(R,{name:"topic",rows:20}),v(u);var A=g(u,2),B=d(A);Aa(B,{label:"Создать"}),v(A),v(r),v(e),v(t),v(i),F(()=>{U(l,o()),U(y,p()),U(L,n())}),h(_,s)}var Na=ia('<script src="/publish.js" defer><\/script><!---->',1),Ua=x('<li class="page-item"><a target="_blank" title="Править" aria-label="Править"><i class="bi bi-pencil p-2"></i></a></li> <li class="page-item"><a target="_blank" href="/channel" title="Управление каналом" aria-label="Управление каналом"><i class="bi bi-telegram p-2"></i></a></li>',1),Ya=x('<ul class="pagination ms-5"><!> <li class="page-item"><a target="_blank" title="Источник в Яндекс-архиве" aria-label="Источник в Яндекс-архиве"><i class="bi bi-link p-2"></i></a></li></ul>'),za=x('<div class="mt-3 pe-3 text-end w-100"><!></div>'),Fa=x("<!> <!> <!>",1);function st(_,a){Y(a,!1);let o=f(a,"data",8);const{content:p,id:n,page:s,count:i,date:t,issue:e,year:r,local:u}=o(),l=`?date=${t}`,y=`/view/${r}/${e}`;let{body:L,raw:R}=p;const A=`https://yandex.ru/archive/catalog/${n}/${s}`,B=`/edit/${r}/${e}/${s}`,c=`«Известия…», №${e} за ${new Date(t).toLocaleString("ru-RU",{day:"numeric",month:"short",year:"numeric"})} C. ${s}.`,C=L||R;R=`# Страница еще не обработана

${R}`,G();var H=Fa();_a(w=>{var k=Na();g(j(k)),h(w,k)});var P=j(H);qa(P,{count:i,current:s,prefix:y,postfix:l,children:(w,k)=>{var m=Ya(),S=d(m);{var E=J=>{var M=Ua(),Q=j(M),ta=d(Q);D(ta,"href",B),v(Q),ha(2),h(J,M)};T(S,J=>{u&&J(E)})}var K=g(S,2),aa=d(K);D(aa,"href",A),v(K),v(m),h(w,m)},$$slots:{default:!0}});var I=g(P,2);{var O=w=>{var k=za(),m=d(k);Ja(m,{date:t,description:c,href:A}),v(k),h(w,k)};T(I,w=>{u&&w(O)})}var q=g(I,2);Ha(q,{readme:C}),h(_,H),z()}export{st as component};
