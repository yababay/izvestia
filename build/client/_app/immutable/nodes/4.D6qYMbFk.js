var K=r=>{throw TypeError(r)};var Q=(r,t,e)=>t.has(r)||K("Cannot "+e);var _=(r,t,e)=>(Q(r,t,"read from private field"),e?e.call(r):t.get(r)),O=(r,t,e)=>t.has(r)?K("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),q=(r,t,e,s)=>(Q(r,t,"write to private field"),s?s.call(r,e):t.set(r,e),e);import{R as st}from"../chunks/CYgJF_JY.js";import{b as f,a as u,c as L}from"../chunks/C-V7koEK.js";import"../chunks/CNXGhc8a.js";import{f as Y,c as h,a5 as b,t as C,a6 as Z,r as d,a3 as F,i as W,e as w,a4 as B}from"../chunks/CuqPCOm1.js";import{s as R}from"../chunks/BfnAL8MM.js";import{p as D}from"../chunks/BO3cye2v.js";import{h as tt}from"../chunks/Bk6oNkak.js";import{i as H}from"../chunks/CNUPf0XL.js";/* empty css                */import{s as P}from"../chunks/CDm-fcRQ.js";import{e as U,i as z}from"../chunks/L2j9VugY.js";import{s as I}from"../chunks/DIJY445-.js";import{i as G}from"../chunks/iM5OWHQR.js";import{t as V}from"../chunks/DixeOKT8.js";var rt=f('<div class="layout-with-header svelte-13gpu52"><header class="svelte-13gpu52"><!></header> <main class="svelte-13gpu52"><!></main></div>');function nt(r,t){let e=D(t,"title",8,"");var s=rt();tt(l=>{var c=L(),m=Y(c);{var i=v=>{C(()=>Z.title=e())};H(m,v=>{e()&&v(i)})}u(l,c)});var a=h(s),n=h(a);R(n,t,"header",{},null),d(a);var o=b(a,2),g=h(o);R(g,t,"default",{},null),d(o),d(s),u(r,s)}var ot=f('<div class="layout-with-aside svelte-lx5dlo"><aside class="svelte-lx5dlo"><!></aside> <section class="svelte-lx5dlo"><!></section></div>');function lt(r,t){let e=D(t,"title",8,"");var s=ot();tt(l=>{var c=L(),m=Y(c);{var i=v=>{C(()=>Z.title=e())};H(m,v=>{e()&&v(i)})}u(l,c)});var a=h(s),n=h(a);R(n,t,"aside",{},null),d(a);var o=b(a,2),g=h(o);R(g,t,"default",{},null),d(o),d(s),u(r,s)}const et="1917-02-28",it="Архив газеты «Известия»";function dt(r,t){throw new st(r,t.toString())}new TextEncoder;const ct=new Date(et),vt=!1,ht=({url:r})=>{let{pathname:t,searchParams:e}=r;if(/.*\/\d{4}$/.test(t))throw t+="-01-01",dt(302,t);const s=/.*(\d{4}-\d{2}-\d{2})$/.exec(t)||[];let[a,n]=s;return n||(n=e.get("date")||""),{choosen:new Date(n||ct)}},Wt=Object.freeze(Object.defineProperty({__proto__:null,csr:vt,load:ht},Symbol.toStringTag,{value:"Module"})),N=24*36e5,X=1917,ut=1917,gt=new Date(et),k=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"];var p,S;class mt{constructor(t=new Date,e){O(this,p);O(this,S);q(this,p,t),q(this,S,e)}get choosen(){return _(this,p)}get year(){return _(this,p).getFullYear()}toYear(t){const e=new Date(_(this,p));return e.setFullYear(t),this.pathname(e)}get weeks(){const{days:t}=this,e=[];for(;t.length;)e.push(t.splice(0,7));return e}pathname(t){return`${_(this,S)}/${t.toISOString().slice(0,10)}`}get next(){const{days:t}=this,e=new Date(t.slice(-1)[0].getTime()+N),s=new Date(_(this,p)).getDate();return e.setDate(s),this.pathname(e)}get prev(){const{days:t}=this,e=new Date(t[0].getTime()-N),s=new Date(_(this,p)).getDate();return e.setDate(s),this.pathname(e)}get month(){return this.days[15].getMonth()}get days(){const t=_(this,p),e=t.getMonth(),s=[t];let a=t;for(;a.getMonth()===e;)a=new Date(a.getTime()-N),s.push(a);for(s.pop(),a=s.slice(-1)[0];a.getDay()!==1;)a=new Date(a.getTime()-N),s.push(a);a=t;const n=[];for(;a.getMonth()===e;)a=new Date(a.getTime()+24*36e5),n.push(a);return n.pop(),[...s.reverse(),...n]}}p=new WeakMap,S=new WeakMap;var pt=f('<td class="td-square svelte-qtpl5d"><a rel="external" class="svelte-qtpl5d"> </a></td>'),ft=f("<tr></tr>");function xt(r,t){F(t,!1);let e=D(t,"week",8),s=D(t,"calendar",8);const{month:a,choosen:n}=s();G();var o=ft();U(o,5,e,z,(g,l)=>{var c=pt(),m=h(c),i=h(m,!0);d(m),d(c),C((v,x,T,j)=>{V(c,"td-today",v),V(c,"prev-month",x),I(m,"href",T),P(i,j)},[()=>w(l).getMonth()===n.getMonth()&&w(l).getDate()===n.getDate(),()=>w(l).getMonth()!==a,()=>s().pathname(w(l)),()=>w(l).getDate()],W),u(g,c)}),d(o),u(r,o),B()}var _t=f('<li><a class="dropdown-item" rel="external"> </a></li>'),wt=f('<div class="btn-group width-40 svelte-bk8w60" role="group"><button type="button" class="btn btn-light btn-sm dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"></button> <ul class="dropdown-menu"></ul></div>'),bt=f("<span></span>");function Dt(r,t){F(t,!1);let e=D(t,"calendar",8);const s=[X];for(let i=X+1;i<=ut;i++)s.push(i);const{year:a,month:n}=e(),o=`${k[n]} ${a} г.`;G();var g=L(),l=Y(g);{var c=i=>{var v=wt(),x=h(v);x.textContent=o;var T=b(x,2);U(T,5,()=>s,z,(j,A,J,E)=>{var M=_t(),y=h(M),$=h(y,!0);d(y),d(M),C(at=>{I(y,"href",at),P($,w(A))},[()=>e().toYear(w(A))],W),u(j,M)}),d(T),d(v),u(i,v)},m=i=>{var v=bt();v.textContent=o,u(i,v)};H(l,i=>{s.length>1?i(c):i(m,!1)})}u(r,g),B()}var yt=f('<div class="calendar-wrap svelte-xjpgu6"><div class="w-100 calendar-pane mb-1 svelte-xjpgu6"><a rel="external" class="change-month change-month-link svelte-xjpgu6"> </a> <!> <a rel="external" class="change-month change-month-link svelte-xjpgu6"> </a></div> <table class="svelte-xjpgu6"><thead><tr class="tr-calendar svelte-xjpgu6"><td class="svelte-xjpgu6">Пн</td><td class="svelte-xjpgu6">Вт</td><td class="svelte-xjpgu6">Ср</td><td class="svelte-xjpgu6">Чт</td><td class="svelte-xjpgu6">Пт</td><td class="svelte-xjpgu6">Сб</td><td class="svelte-xjpgu6">Вс</td></tr></thead><tbody></tbody></table></div>');function Tt(r,t){F(t,!1);let e=D(t,"choosen",8,gt),s=D(t,"prefix",8);const a=new mt(e(),s()),{month:n,prev:o,next:g,weeks:l}=a,c=()=>n===11?k[0]:k[n+1],m=()=>n===0?k[11]:k[n-1];G();var i=yt(),v=h(i),x=h(v);I(x,"href",o);var T=h(x);d(x);var j=b(x,2);Dt(j,{calendar:a});var A=b(j,2);I(A,"href",g);var J=h(A);d(A),d(v);var E=b(v,2),M=b(h(E));U(M,5,()=>l,z,(y,$)=>{xt(y,{get week(){return w($)},calendar:a})}),d(M),d(E),d(i),C((y,$)=>{P(T,`« ${y??""}`),P(J,`${$??""} »`)},[m,c],W),u(r,i),B()}var jt=f('<div slot="aside" class="p-2"><h6 class="svelte-1rcjin5">Выбор по дате</h6> <!></div>'),At=f('<h1 class="ms-5" slot="header"></h1>');function Bt(r,t){let e=D(t,"data",8);const{choosen:s}=e();nt(r,{children:(a,n)=>{lt(a,{children:(o,g)=>{var l=L(),c=Y(l);R(c,t,"default",{},null),u(o,l)},$$slots:{default:!0,aside:(o,g)=>{var l=jt(),c=b(h(l),2);Tt(c,{prefix:"/view",choosen:s}),d(l),u(o,l)}}})},$$slots:{default:!0,header:(a,n)=>{var o=At();o.textContent=it,u(a,o)}}})}export{Bt as component,Wt as universal};
